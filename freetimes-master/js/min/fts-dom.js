"use strict";var eventsData=new XMLHttpRequest;eventsData.open("GET","../json/cards.json",!0),eventsData.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(eventsData.responseText);renderEvents(e),renderEventParagraphs(e),renderComingEvents(e),renderEventBtns(e),addEventBtnVal(e)}},eventsData.send();var patyBox=document.querySelectorAll(".paty-box"),patyDateEls=document.querySelectorAll(".paty-dat"),patyTimeEls=document.querySelectorAll(".paty-time"),patyContEl=document.querySelectorAll(".paty-content"),patyParagEl=document.querySelectorAll(".paty-text"),patyPriceEl=document.querySelectorAll(".paty-tag"),moreBts=document.querySelectorAll(".more-bt"),renderEvents=function(e){e.forEach(function(e,t,n){patyBox[t].insertAdjacentHTML("afterbegin",'<img src="'+e.img+'" alt="poster" title="poster">'),patyDateEls[t].innerText=e.date,patyDateEls[t].insertAdjacentHTML("beforeend","<span>"+e.month+"</span>"),patyTimeEls[t].innerText=e.time,patyContEl[t].insertAdjacentHTML("afterbegin","<h3>"+e.capt+"</h3>"),patyPriceEl[t].insertAdjacentHTML("beforeend","<span>"+e.price+"<sup>€</sup></span>")}),patyContEl[0].querySelector("h3").className="night-capt",patyContEl[1].querySelector("h3").className="day-capt"},renderEventParagraphs=function(e){for(var t=0;t<e.length;t++){var n=e[t];patyParagEl[t].setAttribute("style","max-height: 200px"),patyParagEl[t].innerHTML+='<p class="pre-txt">'+n.text+"</p>"}for(var a=function(e){for(var t=getComputedStyle(patyParagEl[e]).getPropertyValue("max-height").substring(0,3),n=document.querySelectorAll(".pre-txt"),a=function(a){for(var r=n[a].scrollHeight,s=function(n){n==a&&t<r?moreBts[n].addEventListener("click",function(){var s=getComputedStyle(patyParagEl[e]).getPropertyValue("max-height").substring(0,3);e==a&&s<r?(patyParagEl[e].style.maxHeight=r.toString()+"px",moreBts[n].classList.add("pressed-more")):e==a&&s==r&&(patyParagEl[e].style.maxHeight=t+"px",moreBts[n].classList.remove("pressed-more"))}):n==a&&t>=r&&(moreBts[n].style.display="none")},o=0;o<moreBts.length;o++)s(o)},r=0;r<n.length;r++)a(r)},r=0;r<patyParagEl.length;r++)a(r)},patyAddBtn=document.querySelectorAll(".paty-add"),renderEventBtns=function(e){e.forEach(function(e,t,n){var a="";for(var r in e.btns)a+='<a href="'+e.btns[r]+'" title="'+e.btns[r]+'" target="_blank">\n          <svg role="img" class="icon-svg">\n            <use xlink:href="./img/svg/icons.svg#'+r+'"></use>\n        </svg>\n      </a>';patyAddBtn[t].innerHTML=a})},addEventBtnVal=function(e){e.forEach(function(e,t,n){patyAddBtn[t].querySelectorAll("a").forEach(function(t,n,a){var r=t.getAttribute("title");-1!=r.search("@")&&(t.href="mailto:"+e.btns.mail),-1!=r.search("358")&&(t.href="tel:"+e.btns.tel)})})},nextBlocks=document.querySelectorAll(".next-blk"),renderComingEvents=function(e){e.forEach(function(e,t,n){var a=n[t].events,r="";for(var s in a)r+='\n      <div class="next-box">\n        <span class="next-date">'+a[s].eDate+"\n          <span>"+a[s].eMonth+'</span>\n        </span>\n        <div>\n          <div class="next-poster" style="background-image: url('+a[s].ePoster+')">\n            <span class="next-btn">'+a[s].eBtn+'</span>\n          </div>\n          <svg role="img" class="next-stars">\n            <use xlink:href="./img/svg/fts-elem.svg#stars"></use>\n          </svg>\n          <h5>'+a[s].eCap+"</h5>\n          <p>"+a[s].eCont+"</p>\n        </div>\n      </div>";nextBlocks[t].innerHTML=r}),addClass()},addClass=function(){nextBlocks.forEach(function(e,t,n){for(var a=n[t].querySelectorAll(".next-box"),r=0;r<a.length;r++)0==t&&(a[r].className+=" night-next"),1==t&&(a[r].className+=" day-next")})},coursesData=new XMLHttpRequest;coursesData.open("GET","../json/courses.json",!0),coursesData.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(coursesData.responseText);renderCourses(e),renderCourseParagraphs(e),renderCourseBtns(e),addExtraCourseVal(e)}},coursesData.send();var coursesDom=document.querySelector(".course-blk"),renderCourses=function(e){var t="";e.forEach(function(e,n,a){t+='<div class="flex-crs">\n      <div class="crs-dat">\n        <span class="crs-day">'+e.days+'</span>\n        <span class="crs-time">'+e.time+'</span>\n        <svg role="img" class="crs-svg">\n          <use xlink:href="./img/svg/icons.svg#clock"></use>\n        </svg>\n      </div>\n      <div class="crs-img">\n        <span class="crs-cls">'+e.cls+'</span> \n        <img src="'+e.img+'" alt="courses" title="poster">\n      </div>\n      <div class="crs-cont">\n        <h4>'+e.name+'</h4>\n        <ul class="crs-graphs" style="max-height: 115px"></ul>\n      </div>\n      <div class="crs-opt">\n        <div class="crs-btns"></div>\n        <div class="crs-more">\n          <span class="night-bt"></span>\n        </div>\n        <div class="for-price">\n          <span class="crs-tip">'+e.period+'</span>\n          <span class="crs-price">'+e.price+"<sup>€</sup></span>\n        </div>\n      </div>\n    </div>"}),coursesDom.innerHTML+=t},renderCourseParagraphs=function(e){for(var t=document.querySelectorAll(".crs-more span"),n=document.querySelectorAll(".crs-graphs"),a=0;a<e.length;a++){var r=e[a];n[a].innerHTML+="<pre>"+r.txt+"</pre>"}for(var s=function(e){for(var a=getComputedStyle(n[e]).getPropertyValue("max-height").substring(0,3),r=n[e].scrollHeight,s=0;s<t.length;s++){s==e&&a<r?t[s].addEventListener("click",function(){this.classList.toggle("pressed-more");var t=getComputedStyle(n[e]).getPropertyValue("max-height").substring(0,3);t<r?n[e].style.maxHeight=r.toString()+"px":t==r&&(n[e].style.maxHeight=a+"px")}):s==e&&a>=r&&(t[s].parentElement.style.display="none")}},o=0;o<n.length;o++)s(o)},renderCourseBtns=function(e){var t=document.querySelectorAll(".crs-btns");e.forEach(function(e,n,a){var r="";for(var s in e.btns)r+='<a href="'+e.btns[s]+'" title="'+e.btns[s]+'" target="_blank">\n            <svg role="img" class="crs-svg">\n              <use xlink:href="./img/svg/icons.svg#'+s+'"></use>\n          </svg>\n        </a>';t[n].innerHTML=r})},addExtraCourseVal=function(e){var t=document.querySelectorAll(".crs-btns");e.forEach(function(e,n,a){t[n].querySelectorAll("a").forEach(function(t,n,a){var r=t.getAttribute("title");-1!=r.search("@")&&(t.href="mailto:"+e.btns.mail),-1!=r.search("358")&&(t.href="tel:"+e.btns.tel)})})},teamData=new XMLHttpRequest;teamData.open("GET","../json/team.json",!0),teamData.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(teamData.responseText);renderTeam(e),renderTeamBtns(e),addExtraTeamVal(e)}},teamData.send();var ourTeamDom=document.querySelector(".team-blk"),renderTeam=function(e){var t="";e.forEach(function(e,n,a){t+='<div class="teammate">\n      <div class="team-img">\n      <div style="background-image: url('+e.img+')"></div>\n        <svg role="img" class="team-img-svg">\n          <use xlink:href="./img/svg/fts-elem.svg#border-up"></use>\n        </svg>\n        <svg role="img" class="team-img-svg">\n          <use xlink:href="./img/svg/fts-elem.svg#border-down"></use>\n        </svg>\n      </div>\n      <span class="about-me">'+e.about+"</span>\n      <h5>"+e.name+"</h5>\n      <h6>"+e.post+'</h6>\n      <svg role="img" class="stars">\n        <use xlink:href="./img/svg/fts-elem.svg#stars"></use>\n      </svg>\n      <div class="team-btns"></div>\n    </div>'}),ourTeamDom.innerHTML=t},renderTeamBtns=function(e){e.forEach(function(e,t,n){var a=document.querySelectorAll(".team-btns"),r="";for(var s in e.btns)r+='<a href="'+e.btns[s]+'" title="'+e.btns[s]+'" target="_blank">\n            <svg role="img" class="crs-svg">\n              <use xlink:href="./img/svg/icons.svg#'+s+'"></use>\n          </svg>\n        </a>';a[t].innerHTML=r})},addExtraTeamVal=function(e){var t=document.querySelectorAll(".team-btns");e.forEach(function(e,n,a){t[n].querySelectorAll("a").forEach(function(t,n,a){var r=t.getAttribute("title");-1!=r.search("@")&&(t.href="mailto:"+e.btns.mail),-1!=r.search("358")&&(t.href="tel:"+e.btns.tel)})})},linksData=new XMLHttpRequest;linksData.open("GET","../json/main.json",!0),linksData.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(linksData.responseText);renderLinks(e)}},linksData.send();var mainTitle=document.querySelector("title"),mainTitleOg=document.querySelector('meta[property="og:title"]'),mainSiteNameOg=document.querySelector('meta[property="og:site_name"]'),mainDescriptOg=document.querySelector('meta[property="og:description"]'),mainDescript=document.querySelector('meta[name="description"]'),mainLinks=document.querySelectorAll(".menu-list li"),mainH2=document.querySelectorAll("h2"),mainIn=document.querySelectorAll(".paty-tag span:nth-of-type(1)"),partnerBtnText=document.querySelector("#partner-btn"),partnerLinks=document.querySelector(".link-blk"),renderLinks=function(e){mainTitle.textContent=e.title,mainTitleOg.textContent=e.title,mainSiteNameOg.textContent=e.site_name,mainDescriptOg.textContent=e.description,mainDescript.textContent=e.description,partnerBtnText.textContent=e.partbtn;for(var t=0;t<mainLinks.length;t++){var n=e.menu;for(var a in n)t.toString()==a.substring(4)&&(mainLinks[t].textContent=n[a])}for(var r=0;r<mainH2.length;r++){var s=e.h2;for(var o in s)r.toString()==o.substring(4)&&(mainH2[r].textContent=s[o])}for(var i=0;i<mainIn.length;i++)mainIn[i].textContent=e.in;var l="",c=e.partner;for(var u in c){var m=c[u];l+='<a href="'+m.href+'" target="_blank" style="background-image: url('+m.img+')"></a>'}partnerLinks.innerHTML=l,partnerLinks.insertAdjacentHTML("afterbegin",'<span id="close-partner"></span>')};